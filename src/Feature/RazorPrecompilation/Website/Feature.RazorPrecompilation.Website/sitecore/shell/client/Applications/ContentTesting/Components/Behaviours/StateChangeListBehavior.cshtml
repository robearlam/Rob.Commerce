@using Sitecore.Mvc
@using Sitecore.Web.UI.Controls.Common.UserControls
@model Sitecore.Mvc.Presentation.RenderingModel
@{
    var userControl = this.Html.Sitecore().Controls().GetUserControl(this.Model.Rendering);

    // 'data-sc-behavior' is attribute which helps to find element and get necessary attributes
    userControl.Attributes["data-sc-behavior"] = "stateChangeBehavior";

    var scriptFileName = userControl.GetString("PageScriptFileName");
    var behaviorName = userControl.GetString("Name");

    var enabledIconPath = userControl.GetString("EnabledIconPath", "EnabledIconPath");
    userControl.Attributes["data-sc-enablediconpath"] = enabledIconPath;

    var disabledIconpath = userControl.GetString("DisabledIconPath", "DisabledIconPath");
    userControl.Attributes["data-sc-disablediconpath"] = disabledIconpath;

    var enabledTooltip = userControl.GetString("EnabledTooltip", "EnabledTooltip");
    userControl.Attributes["data-sc-enabledtooltip"] = enabledTooltip;

    var disabledTooltip = userControl.GetString("DisabledTooltip", "DisabledTooltip");
    userControl.Attributes["data-sc-disabledtooltip"] = disabledTooltip;

    var notAllowDisableTooltip = userControl.GetString("NotAllowDisableTooltip", "NotAllowDisableTooltip");
    userControl.Attributes["data-sc-notallowdisabletooltip"] = notAllowDisableTooltip;

    var notAllowDisableIconPath = userControl.GetString("NotAllowDisableIconPath", "NotAllowDisableIconPath");
    userControl.Attributes["data-sc-notallowdisableiconpath"] = notAllowDisableIconPath;

    var headerTitle = userControl.GetString("HeaderTitle", "HeaderTitle");
    userControl.Attributes["data-sc-header"] = headerTitle;

    var htmlAttributes = userControl.HtmlAttributes;
}
<script data-sc-require="@scriptFileName" data-sc-behavior-name="@behaviorName"
    @htmlAttributes
    type="text/x-sitecore-behavior">
</script>
