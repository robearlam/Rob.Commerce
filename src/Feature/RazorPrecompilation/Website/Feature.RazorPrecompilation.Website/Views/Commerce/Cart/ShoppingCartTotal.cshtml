@using Sitecore.XA.Foundation.SitecoreExtensions.Extensions
@*//-----------------------------------------------------------------------
    // Copyright 2017 Sitecore Corporation A/S
    // Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file
    // except in compliance with the License. You may obtain a copy of the License at
    //       http://www.apache.org/licenses/LICENSE-2.0
    //
    // Unless required by applicable law or agreed to in writing, software distributed under the
    // License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
    // either express or implied. See the License for the specific language governing permissions
    // and limitations under the License.
    // -------------------------------------------------------------------------------------------*@
@using System.Web.Mvc.Html
@using Sitecore.XA.Foundation.MarkupDecorator.Extensions
@using Sitecore.XA.Foundation.SitecoreExtensions.Extensions
@using Sitecore.Commerce.XA.Foundation.Common.ExtensionMethods
@using Sitecore.Commerce.XA.Feature.Cart.Models
@using Sitecore.Mvc

@model ShoppingCartTotalRenderingModel

<div @Html.Sxa().Component("cxa-shoppingcarttotal-component", Model.Attributes) data-bind="with: cart" data-cxa-component-class="CartTotal" data-cxa-component-initialized="false" data-cxa-component-model="CartTotalViewModel" data-cxa-component-type="component">

    @if (!String.IsNullOrWhiteSpace(Model.ErrorMessage))
    {
        <div class="error-message">
            @Model.ErrorMessage
        </div>
    }
    else
    {
        var orderTotalHeaderLabel = Html.Sitecore().Field("Order Total Header", Html.Sitecore().CurrentItem);
        var paymentTotalLabel = Html.Sitecore().Field("Subtotal Label", Html.Sitecore().CurrentItem);
        var vatLabel = Html.Sitecore().Field("VAT Label", Html.Sitecore().CurrentItem);
        var shippingLabel = Html.Sitecore().Field("Shipping Label", Html.Sitecore().CurrentItem);
        var orderTotalLabel = Html.Sitecore().Field("Order Total Label", Html.Sitecore().CurrentItem);
        var totalSavingsLabel = Html.Sitecore().Field("Savings Label", Html.Sitecore().CurrentItem);

        <div class="component-content" data-bind="visible: true" >
            <div class="cart-total-title">
                <h3  title="@Model.OrderTotalHeaderTooltip">@orderTotalHeaderLabel</h3>
            </div>
            <div class="cart-total-summary subtotal">
                <span class="summary-text" title="@Model.PaymentTotalTooltip">@paymentTotalLabel</span>
                <span class="summary-amount" data-bind="text: subTotal" pid="subtotal"></span>
            </div>
            <div class="cart-total-summary discount">
                <span class="summary-text" title="@Model.SavingsTooltip">@totalSavingsLabel </span>
                <span class="summary-amount" data-bind="text: discount" pid="discountTotal"></span>
            </div>
            <div class="cart-total-summary shipping">
                <span class="summary-text" title="@Model.ShippingTooltip">@shippingLabel</span>
                <span class="summary-amount" data-bind="text: shippingTotal" pid="shippingTotal"></span>
            </div>
            <div class="cart-total-summary tax">
                <span class="summary-text" title="@Model.VatTooltip">@vatLabel</span>
                <span class="summary-amount" data-bind="text: taxTotal" pid="taxTotal"></span>
            </div>
            <div class="cart-total-summary order-total">
                <span class="summary-text" title="@Model.OrderTotalTooltip">@orderTotalLabel</span>
                <span class="summary-amount" data-bind="text: total" pid="total"></span>
            </div>
            
        </div>

    }
</div>